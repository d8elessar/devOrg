<template>
  <lightning-card title="TolerantMatch">
    <div class="container">
      <div class="search">
        <lightning-input
          type="search"
          onchange={handleSearchKeyChange}
          label="Search Customers"
          value={searchKey}
        ></lightning-input>
        <p class="margin-vertical-small">
          <lightning-button
            label="Search"
            class="button"
            onclick={handleSearchClick}
          ></lightning-button>
        </p>
      </div>

      <template if:true={customers}>
        <!--<ul>
          Customers were found!
          <template for:each={customers} for:item="customer">
            <li key={customer.matchKey} class="search-results">
              Customer: {customer.matchKey}
            </li>
          </template>
-->
        <lightning-layout multiple-rows="true" pull-to-boundary="small">
          <template for:each={customers} for:item="customer">
            <lightning-layout-item
              key={customer.matchKey}
              size="3"
              class="slds-p-around_x-small"
            >
              <!-- Start customer tile -->
              <lightning-card title={customer.matchScore} class="bear-tile">
                <div class="slds-p-horizontal_small">
                  <div class="slds-media">
                    <div class="slds-media__body">
                      <p class="slds-m-bottom_xx-small">
                        {customer.matchKey}
                      </p>
                    </div>
                  </div>
                </div>
              </lightning-card>
              <!-- End customer tile -->
            </lightning-layout-item>
          </template>
        </lightning-layout>

        <!--<template for:each={customers.items} for:item="book">
            <li key={book.id} class="search-results">
              {book.volumeInfo.title}
            </li>
          </template>-->
        <!--</ul>-->
      </template>
      <template if:true={error}>
        <c-error-panel errors={error}></c-error-panel>
      </template>
    </div>
  </lightning-card>
</template>